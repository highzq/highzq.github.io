<!DOCTYPE html>
<!-- saved from url=(0096)https://tgideas.qq.com/act/a20170330mmdVideoPlayer/videoPlayerDemo/mmd_videoPlayerAndPlug_h.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=GBK">
    
    <meta name="viewport" content="width=320,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="Copyright" content="Copyright (c) 2006-2016 TENCENT">
    <title>mmd_videoPlayerAndPlug_h</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            /*text-align: center;*/
            /*background-color: #cccccc;*/
            width: 100%;
            height: 100%;
            overflow: hidden;

        }

        /*����������video��ǩ,���ܻ����video��ǩĬ���ö������,������bug����ͨ����ʽ���������;*/
        .compatibleStyle {
            backface-visibility:hidden;
            -webkit-backface-visibility:hidden;	/* Chrome �� Safari */
            -moz-backface-visibility:hidden; 	/* Firefox */
            -ms-backface-visibility:hidden; 	/* Internet Explorer */
            -webkit-perspective: 0;
            -webkit-transform: translate3d(0,0,0);
            visibility:visible;
        }

    </style>
<style type="text/css"> .IIV::-webkit-media-controls-play-button,   .IIV::-webkit-media-controls-start-playback-button {  opacity: 0;    pointer-events: none;    width: 5px;}</style></head>
<body>
    <script src="http://ossweb-img.qq.com/images/js/mmdPlugin/mmd-plugin.min.1.0.2.js"></script>
    <script src="http://ossweb-img.qq.com/images/js/mmdVideoPlayer/mmd.videoplayer.min.1.0.1.js"></script>

<!--
��������˵��:
1.view-mode = "v" "v"����,"h"����;
2.view-rotation="auto" Ĭ��"auto" �Զ���ת,"v"��������,"h"��������;
3.view-scale="exactfit" ����ģʽ Ĭ��"exactfit";
                    "exactfit":�߿�������Ļ�߿�;
                    "noborder":�ü�����;
                    "noscale":������;
                    "showall":��ʾȫ��;
                    "width":���ȵ�����Ļ��;
                    "height":�߶ȵ�����Ļ��;
4.view-align="",Ĭ��Ϊ"" ����;
                    "t":����;
                    "l":����;
                    "r":����;
                    "b":����;
                    ���Խ��һ���ã�����"tl","tr","bl","br";
5.view-width="400" Ŀ��� Ĭ��"400";
6.view-height="400" Ŀ��� Ĭ��"400";
-->

<div view-mode="h" view-rotation="auto" view-scale="noborder" view-width="1136" view-height="640" view-align="" style="position: absolute; transform-origin: 0% 0%; width: 1136px; height: 640px; overflow: hidden; display: block; transform: matrix3d(0.5105, 0, 0, 0, 0, 0.5105, 0, 0, 0, 0, 1, 0, 0, -57, 0, 1);">
    <div style="position: absolute;">
        <video id="video" style="display:none;" preload="auto" x-webkit-airplay="true" airplay="allow" webkit-playsinline="true" playsinline="true"></video>
    </div>
    <div id="loading" class="compatibleStyle" style="position: absolute;">
        <img src="./mmd_videoPlayerAndPlug_h_files/mmd_videoPlayerAndPlug_h_loading.jpg">
    </div>
    <div id="end" class="compatibleStyle" style="position: absolute;display: none;">
        <img src="./mmd_videoPlayerAndPlug_h_files/mmd_videoPlayerAndPlug_h_end.jpg">
    </div>
    <button id="startPlay" class="compatibleStyle" style="position: absolute; width: 130px; height: 60px; background-color: rgb(255, 255, 255); display: block; bottom: 30%; left: 602px;">��Ҫ�������ܲ���,���Ҳ�����Ƶ</button>
    <button id="toEnd" class="compatibleStyle" style="position: absolute;width: 130px;height: 60px;background-color: #ffffff;display:none;bottom: 10%;right: 15%" onclick="isLoop=false;document.getElementById(&#39;toEnd&#39;).style.display=&#39;none&#39;;">����ѭ����Ƶ,���ҿ�����ѭ��</button>
</div>

<script>
    var src='http://pvp.qq.com/act/a20161026nw/movies/movie.mp4';
    var isLoop=true;//��Ƶѭ����,������ס�Ƿ�ѭ��;
    var videoPlayer=new MMD.VideoPlayer(
        {
            videoElement:document.getElementById('video'),//[����],videoԪ��;
            src:src,//[����],video src;
            loop:false,//[��ѡ],�Ƿ�ѭ��,Ĭ��false,trueΪѭ��;
            muted:false,//[��ѡ],�Ƿ���,Ĭ��false;
            poster:'',//[��ѡ],videoĬ��ͼƬ;
            timesParam:[
                {name:'firstPoint',time:11.48}
                ],//[��ѡ],video currenttimeʱ���;
            onTimes:function(name){
                console.log(name)
                switch (name)
                {
                    case 'firstPoint':
                        //to do;
                        if(isLoop)
                        {
                            videoPlayer.currentTimeAndPlay=6.44;
                            document.getElementById('toEnd').style.display='block';
                        }
                        else
                        {

                        }

                        break;
                }
            },//[��ѡ],video currenttime�ص�;
            onStart:function(){
                document.getElementById('loading').style.display='none';
                console.log('video start');
            },//[��ѡ],video��һ��������ֻص�;
            onEnd:function(){
                document.getElementById('end').style.display='block';
                console.log('video end');
            }//[��ѡ],video������ɻص�;
        }
    );

//    console.log('videoPlayer.isVideoCanAutoPlay:',videoPlayer.isVideoCanAutoPlay);
    var btn=document.getElementById('startPlay');
    if(videoPlayer.isVideoCanAutoPlay)
    {
        videoPlayer.play();
    }
    else
    {
        btn.style.display='block';
        btn.addEventListener('click',function(e)
        {
            btn.style.display='none';
            videoPlayer.play();
        });
    }

</script>


</body></html>